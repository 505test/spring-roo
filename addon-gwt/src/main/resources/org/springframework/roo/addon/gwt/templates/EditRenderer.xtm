package {{=packageName}};

import com.google.gwt.app.place.ProxyRenderer;

{{#imports}}import {{=import}};
{{/imports}}

/**
 * Renders {@link {{=proxy}} for display to the user. Requires the
 * {{=displayField}} property to have been fetched.
 */
public class {{=className}} extends ProxyRenderer<{{=proxy}}> {
  private static {{=className}} INSTANCE;

  public static {{=className}} instance() {
    if (INSTANCE == null) {
      INSTANCE = new {{=className}}();
    }

    return INSTANCE;
  }

  protected {{=className}}() {
    super(new String[] { {{=displayFields}}} );
  }

  public String render({{=proxy}} object) {
    if (object == null) {
      return "";
    }
    return object.{{=displayFieldGetter}}() + " (" + object.getId() + ")";
  }
}
